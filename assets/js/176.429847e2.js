(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{785:function(t,a,s){"use strict";s.r(a);var n=s(17),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"微信小程序head组件的封装与使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信小程序head组件的封装与使用"}},[t._v("#")]),t._v(" 微信小程序head组件的封装与使用")]),t._v(" "),s("blockquote",[s("p",[t._v("微信小程序的head是可以进行"),s("strong",[t._v("默认配置head")]),t._v("或者"),s("strong",[t._v("自定义封装head组件")]),t._v("的，本文将从这两个方面开始进行使用讲解。")])]),t._v(" "),s("h2",{attrs:{id:"默认的head配置方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#默认的head配置方式"}},[t._v("#")]),t._v(" 默认的head配置方式")]),t._v(" "),s("p",[t._v("微信小程序的head一般是开发者通过在app.json来设置统一的样式，又或者在每个页面的json中对对应的页面进行设置")]),t._v(" "),s("h3",{attrs:{id:"全局页面配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局页面配置"}},[t._v("#")]),t._v(" 全局页面配置")]),t._v(" "),s("p",[t._v("我们可以在"),s("code",[t._v("app.json")]),t._v("中进行系统默认的全局head配置")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"window"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"backgroundTextStyle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"light"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarBackgroundColor"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#35d492"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarTitleText"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Weixin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarTextStyle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"black"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("ul",[s("li",[t._v("navigationBarBackgroundColor：设置的head背景颜色")]),t._v(" "),s("li",[t._v("navigationBarTitleText：设置的默认head文字内容")]),t._v(" "),s("li",[t._v("navigationBarTextStyle：head文字内容颜色")])]),t._v(" "),s("p",[t._v("更多配置请参考官方文档："),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("页面配置 | 微信开放文档 (qq.com)"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"单页面配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单页面配置"}},[t._v("#")]),t._v(" 单页面配置")]),t._v(" "),s("p",[t._v("除此之外，在使用默认配置head的情况下，我们可以在想要自定义head内容的页面对应的json文字中进行配置，比如我想更改个人设置页面head文本内容，即在"),s("code",[t._v("person.json")]),t._v("中进行如下配置即可，其他相关设置默认为"),s("code",[t._v("app.json")]),t._v("中的配置。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationBarTitleText"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"个人"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"自定义封装head组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义封装head组件"}},[t._v("#")]),t._v(" 自定义封装head组件")]),t._v(" "),s("blockquote",[s("p",[t._v("首先，我们要进行自定义封装的目的是什么?")])]),t._v(" "),s("ol",[s("li",[t._v("页面head部分包含特定的功能，比如说：搜索框，地理位置等。")]),t._v(" "),s("li",[t._v("应用中需要换肤功能，需要根据设置来更改head的背景颜色。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hogB/Img/main/202207030914980.png",alt:"image-20220703091419915"}})]),t._v(" "),s("p",[t._v("比如说美团小程序这里的head就为封装的head组件，包含了地理位置的功能，接下来开始封装属于我们的head")]),t._v(" "),s("h3",{attrs:{id:"获取系统的head高度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取系统的head高度"}},[t._v("#")]),t._v(" 获取系统的head高度")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("因为不同机型的顶部高度不同，所以我们必要根据不同的机型设置不同的head高度")])])]),t._v(" "),s("p",[t._v("我们需要在"),s("code",[t._v("app.js")]),t._v("即小程序的入口文件中调用"),s("code",[t._v("wx.getSystemInfo")]),t._v("来获取用户的机型信息还有"),s("code",[t._v("wx.getMenuButtonBoundingClientRect()")]),t._v("获取菜单按钮（右上角胶囊按钮）的布局位置信息，官方文档api介绍："),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getSystemInfo.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx.getSystemInfo"),s("OutboundLink")],1),t._v("，"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/ui/menu/wx.getMenuButtonBoundingClientRect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("wx.getMenuButtonBoundingClientRect()"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" capsule "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMenuButtonBoundingClientRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" statusBarHeight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//顶部状态栏高度")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capsule "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" capsule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("titleHeight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" statusBarHeight "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" capsule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("capsule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" statusBarHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("关于这个顶部高度计算公式，我通过如下图所示分层介绍一下")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/hogB/Img/main/202207030914876.png",alt:"image-20220703091430816"}})]),t._v(" "),s("p",[s("code",[t._v("res.statusBarHeight")]),t._v("为通过api获取的状态栏高度")]),t._v(" "),s("p",[s("code",[t._v("capsule")]),t._v("是记录胶囊信息的变量对象，其"),s("code",[t._v("top")]),t._v("属性值为"),s("strong",[t._v("以手机左上角为坐标原点，胶囊的距离x轴的长度")])]),t._v(" "),s("p",[t._v("所以整体的高度大小为："),s("strong",[t._v("状态栏高度")]),t._v("+"),s("strong",[t._v("胶囊高度")]),t._v("+"),s("em",[s("em",[t._v("2")]),t._v("(胶囊距顶高度-状态栏高度)")]),t._v("*，胶囊距顶高度-状态栏高度为蓝色线与白色线之间得间距，最后即得"),s("code",[t._v("statusBarHeight + capsuleObj.height + (capsuleObj.top - statusBarHeight) * 2")])]),t._v(" "),s("h3",{attrs:{id:"封装组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#封装组件"}},[t._v("#")]),t._v(" 封装组件")]),t._v(" "),s("p",[t._v("封装头部组件的方式和其他组件相同，在"),s("code",[t._v("components")]),t._v("目录下新建组件")]),t._v(" "),s("h4",{attrs:{id:"获取高度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取高度"}},[t._v("#")]),t._v(" 获取高度")]),t._v(" "),s("p",[t._v("首先我们需要在"),s("code",[t._v("attached")]),t._v("生命周期中通过获取全局变量得方式拿到我们所需要的"),s("strong",[t._v("胶囊信息与高度信息")]),t._v("，并响应式地设置值")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("attached")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("titleHeight")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("titleHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("capsule")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capsule\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h4",{attrs:{id:"配置组件属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置组件属性"}},[t._v("#")]),t._v(" 配置组件属性")]),t._v(" "),s("p",[t._v("为了可以让头部组件更加自由，我们需要在组件属性列表中配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("properties")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("customTitle")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("backgroundColor")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" String"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("location")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("back")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("p",[t._v("这里我配置了三个属性，即背景颜色，定位信息图标，返回按钮，根据不同的功能设置值得类型即可，比如背景颜色这里为字符串类型，其他为布尔型")]),t._v(" "),s("h4",{attrs:{id:"配置组件功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置组件功能"}},[t._v("#")]),t._v(" 配置组件功能")]),t._v(" "),s("p",[t._v("一般来说基础head的基本功能就是返回上一个页面，封装一个"),s("code",[t._v("back")]),t._v("方法调用"),s("code",[t._v("wx.navigateBack")]),t._v("即可，其他方法可以根据需求增加")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("back")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateBack")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("delta")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"组件自适应高度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件自适应高度"}},[t._v("#")]),t._v(" 组件自适应高度")]),t._v(" "),s("p",[t._v("我们在第一步的时候就拿到了高度的信息，所以我们之间可以为dom元素添加行内样式即可")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("wxml")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token special-attr"}},[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("style")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token value css language-css"}},[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("height:")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("titleHeight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("background-color:")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("backgroundColor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("wxml")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"完整demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#完整demo"}},[t._v("#")]),t._v(" 完整demo")]),t._v(" "),s("p",[t._v("具体组件封装demo可以去开源仓库查看："),s("a",{attrs:{href:"https://github.com/hogB/hoewo",target:"_blank",rel:"noopener noreferrer"}},[t._v("hogB/hoewo (github.com)"),s("OutboundLink")],1),t._v("欢迎star。")]),t._v(" "),s("h3",{attrs:{id:"使用组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用组件"}},[t._v("#")]),t._v(" 使用组件")]),t._v(" "),s("h4",{attrs:{id:"引入组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入组件"}},[t._v("#")]),t._v(" 引入组件")]),t._v(" "),s("p",[t._v("首先需要在需要使用组件的页面json文件中进行组件的引入")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"usingComponents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Header"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/components/headBar/headBar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h4",{attrs:{id:"取消默认head"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消默认head"}},[t._v("#")]),t._v(" 取消默认head")]),t._v(" "),s("p",[t._v("在页面的json文件中取消默认head的配置，如下")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"navigationStyle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom"')]),t._v("\n")])])]),s("h4",{attrs:{id:"最后一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最后一步"}},[t._v("#")]),t._v(" 最后一步")]),t._v(" "),s("p",[t._v("最后一步直接使用即可，相关属性根据自己的配置来设置。")]),t._v(" "),s("div",{staticClass:"language-wxml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<Header location customTitle="首页"></Header>\n')])])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("其实封装head组件的核心在于：通过适配机型计算相应高度，只有拿到不同机型的高度才能完美得去展现自定义得head。")]),t._v(" "),s("p",[s("strong",[t._v("相关demo可以在"),s("a",{attrs:{href:"https://github.com/hogB/hoewo",target:"_blank",rel:"noopener noreferrer"}},[t._v("hogB/hoewo (github.com)"),s("OutboundLink")],1),t._v("参考使用，欢迎star")])])])}),[],!1,null,null,null);a.default=e.exports}}]);